{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from '../../axios';\nexport const fetchPosts = createAsyncThunk('posts/fetchPosts', async () => {\n  const {\n    data\n  } = await axios.get('/posts');\n  return data;\n});\nexport const fetchTags = createAsyncThunk('posts/fetchTags', async () => {\n  const {\n    data\n  } = await axios.get('/tags');\n  return data;\n});\nconst initialState = {\n  posts: {\n    items: [],\n    status: 'loading'\n  },\n  tags: {\n    // Теги мають бути тут\n    items: [],\n    status: 'loading'\n  }\n};\nconst PostSlice = createSlice({\n  name: 'posts',\n  initialState,\n  reducers: {},\n  extraReducers: builder => {\n    builder.addCase(fetchPosts.pending, state => {\n      state.posts.items = [];\n      state.posts.status = 'loading';\n    }).addCase(fetchPosts.fulfilled, (state, action) => {\n      state.posts.items = action.payload;\n      state.posts.status = 'loaded';\n    }).addCase(fetchTags.pending, state => {\n      state.tags.items = []; // Очищення перед завантаженням\n\n      state.tags.status = 'loading';\n    }).addCase(fetchTags.fulfilled, (state, action) => {\n      state.tags.items = action.payload; // Запис результатів\n\n      state.tags.status = 'loaded';\n    }).addCase(fetchTags.rejected, state => {\n      state.tags.items = []; // Обнулення у разі помилки\n\n      state.tags.status = 'error';\n    });\n  }\n});\nexport const postsReducer = PostSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","fetchPosts","data","get","fetchTags","initialState","posts","items","status","tags","PostSlice","name","reducers","extraReducers","builder","addCase","pending","state","fulfilled","action","payload","rejected","postsReducer","reducer"],"sources":["C:/Users/kvasn/OneDrive/Нова папка/ba/proj/src/redux/slices/post.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport axios from '../../axios'\r\n\r\n\r\nexport const fetchPosts =  createAsyncThunk('posts/fetchPosts' , async ()=>{\r\n    const {data} = await axios.get('/posts')\r\n    return data\r\n})\r\n\r\n\r\nexport const fetchTags =  createAsyncThunk('posts/fetchTags' , async ()=>{\r\n    const {data} = await axios.get('/tags')\r\n    return data\r\n})\r\nconst initialState = {\r\n    posts: {\r\n        items: [],\r\n        status: 'loading',\r\n    },\r\n    tags: { // Теги мають бути тут\r\n        items: [],\r\n        status: 'loading',\r\n    },\r\n};\r\n\r\n\r\nconst PostSlice = createSlice({\r\n    name: 'posts',\r\n    initialState,\r\n    reducers: {},\r\n    extraReducers: (builder) => {\r\n        builder\r\n            .addCase(fetchPosts.pending, (state) => {\r\n                state.posts.items = [];\r\n                state.posts.status = 'loading';\r\n            })\r\n            .addCase(fetchPosts.fulfilled, (state, action) => {\r\n                state.posts.items = action.payload;\r\n                state.posts.status = 'loaded';\r\n            })\r\n            .addCase(fetchTags.pending, (state) => {\r\n                state.tags.items = []; // Очищення перед завантаженням\r\n                state.tags.status = 'loading';\r\n            })\r\n            .addCase(fetchTags.fulfilled, (state, action) => {\r\n                state.tags.items = action.payload; // Запис результатів\r\n                state.tags.status = 'loaded';\r\n            })\r\n            .addCase(fetchTags.rejected, (state) => {\r\n                state.tags.items = []; // Обнулення у разі помилки\r\n                state.tags.status = 'error';\r\n            });\r\n    },\r\n});\r\n\r\n\r\nexport const postsReducer = PostSlice.reducer"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,gBAAtB,QAA8C,kBAA9C;AACA,OAAOC,KAAP,MAAkB,aAAlB;AAGA,OAAO,MAAMC,UAAU,GAAIF,gBAAgB,CAAC,kBAAD,EAAsB,YAAU;EACvE,MAAM;IAACG;EAAD,IAAS,MAAMF,KAAK,CAACG,GAAN,CAAU,QAAV,CAArB;EACA,OAAOD,IAAP;AACH,CAH0C,CAApC;AAMP,OAAO,MAAME,SAAS,GAAIL,gBAAgB,CAAC,iBAAD,EAAqB,YAAU;EACrE,MAAM;IAACG;EAAD,IAAS,MAAMF,KAAK,CAACG,GAAN,CAAU,OAAV,CAArB;EACA,OAAOD,IAAP;AACH,CAHyC,CAAnC;AAIP,MAAMG,YAAY,GAAG;EACjBC,KAAK,EAAE;IACHC,KAAK,EAAE,EADJ;IAEHC,MAAM,EAAE;EAFL,CADU;EAKjBC,IAAI,EAAE;IAAE;IACJF,KAAK,EAAE,EADL;IAEFC,MAAM,EAAE;EAFN;AALW,CAArB;AAYA,MAAME,SAAS,GAAGZ,WAAW,CAAC;EAC1Ba,IAAI,EAAE,OADoB;EAE1BN,YAF0B;EAG1BO,QAAQ,EAAE,EAHgB;EAI1BC,aAAa,EAAGC,OAAD,IAAa;IACxBA,OAAO,CACFC,OADL,CACad,UAAU,CAACe,OADxB,EACkCC,KAAD,IAAW;MACpCA,KAAK,CAACX,KAAN,CAAYC,KAAZ,GAAoB,EAApB;MACAU,KAAK,CAACX,KAAN,CAAYE,MAAZ,GAAqB,SAArB;IACH,CAJL,EAKKO,OALL,CAKad,UAAU,CAACiB,SALxB,EAKmC,CAACD,KAAD,EAAQE,MAAR,KAAmB;MAC9CF,KAAK,CAACX,KAAN,CAAYC,KAAZ,GAAoBY,MAAM,CAACC,OAA3B;MACAH,KAAK,CAACX,KAAN,CAAYE,MAAZ,GAAqB,QAArB;IACH,CARL,EASKO,OATL,CASaX,SAAS,CAACY,OATvB,EASiCC,KAAD,IAAW;MACnCA,KAAK,CAACR,IAAN,CAAWF,KAAX,GAAmB,EAAnB,CADmC,CACZ;;MACvBU,KAAK,CAACR,IAAN,CAAWD,MAAX,GAAoB,SAApB;IACH,CAZL,EAaKO,OAbL,CAaaX,SAAS,CAACc,SAbvB,EAakC,CAACD,KAAD,EAAQE,MAAR,KAAmB;MAC7CF,KAAK,CAACR,IAAN,CAAWF,KAAX,GAAmBY,MAAM,CAACC,OAA1B,CAD6C,CACV;;MACnCH,KAAK,CAACR,IAAN,CAAWD,MAAX,GAAoB,QAApB;IACH,CAhBL,EAiBKO,OAjBL,CAiBaX,SAAS,CAACiB,QAjBvB,EAiBkCJ,KAAD,IAAW;MACpCA,KAAK,CAACR,IAAN,CAAWF,KAAX,GAAmB,EAAnB,CADoC,CACb;;MACvBU,KAAK,CAACR,IAAN,CAAWD,MAAX,GAAoB,OAApB;IACH,CApBL;EAqBH;AA1ByB,CAAD,CAA7B;AA8BA,OAAO,MAAMc,YAAY,GAAGZ,SAAS,CAACa,OAA/B"},"metadata":{},"sourceType":"module"}